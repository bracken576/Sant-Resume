<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-12-08">

<title>Personal Project New York Airbnbs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="Airbnb_files/libs/clipboard/clipboard.min.js"></script>
<script src="Airbnb_files/libs/quarto-html/quarto.js"></script>
<script src="Airbnb_files/libs/quarto-html/popper.min.js"></script>
<script src="Airbnb_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Airbnb_files/libs/quarto-html/anchor.min.js"></script>
<link href="Airbnb_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Airbnb_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Airbnb_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Airbnb_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Airbnb_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<link href="Airbnb_files/libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="Airbnb_files/libs/pagedtable-1.1/js/pagedtable.js"></script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Personal Project New York Airbnbs</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 8, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="information" class="level2">
<h2 class="anchored" data-anchor-id="information">Information</h2>
<p>Here we are looking at 3 different years for Airbnbs in New York City. We are going to be looking at the average price, amount per county/neighbourhood, and the average amount of reviews. For more information you can check here, <a href="https://www.kaggle.com/datasets/kritikseth/us-airbnb-open-data/">Kaggle Airbnb</a>. I also got the geometric multipolygon data for the counties from the USAboundaries and USAboundariesData packages.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>data <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"archive/AB_NYC_2019.csv"</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a>dat2 <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"archive/AB_US_2020.csv"</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a>dat3 <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"archive/AB_US_2023.csv"</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a>neigh_pop <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"archive/population.csv"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2010</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-5"><a href="#cb1-5"></a>  <span class="fu">group_by</span>(Borough) <span class="sc">%&gt;%</span> </span>
<span id="cb1-6"><a href="#cb1-6"></a>  <span class="fu">summarise</span>(</span>
<span id="cb1-7"><a href="#cb1-7"></a>    <span class="at">population =</span> <span class="fu">sum</span>(Population)</span>
<span id="cb1-8"><a href="#cb1-8"></a>  )</span>
<span id="cb1-9"><a href="#cb1-9"></a>shpy <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">"archive/nyc/nyccwi.shp"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-10"><a href="#cb1-10"></a>  <span class="fu">st_transform</span>(<span class="dv">4326</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>ny_counties <span class="ot">&lt;-</span> <span class="fu">us_counties</span>(<span class="at">state=</span><span class="st">"New York"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(aland, name, geometry) <span class="sc">%&gt;%</span> </span>
<span id="cb2-2"><a href="#cb2-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-3"><a href="#cb2-3"></a>    <span class="at">sqmls =</span> aland<span class="sc">/</span><span class="fl">2589988.10</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>  )  <span class="sc">%&gt;%</span> </span>
<span id="cb2-5"><a href="#cb2-5"></a>  <span class="fu">select</span>(name, sqmls, geometry) <span class="sc">%&gt;%</span> <span class="fu">st_transform</span>(<span class="dv">4326</span>)</span>
<span id="cb2-6"><a href="#cb2-6"></a>  </span>
<span id="cb2-7"><a href="#cb2-7"></a></span>
<span id="cb2-8"><a href="#cb2-8"></a>nyc_counties <span class="ot">&lt;-</span> ny_counties <span class="sc">%&gt;%</span> </span>
<span id="cb2-9"><a href="#cb2-9"></a>  <span class="fu">filter</span>(name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"New York"</span>, <span class="st">"Kings"</span>, <span class="st">"Bronx"</span>, <span class="st">"Richmond"</span>, <span class="st">"Queens"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-10"><a href="#cb2-10"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-11"><a href="#cb2-11"></a>    <span class="at">Borough =</span> <span class="fu">case_when</span>(</span>
<span id="cb2-12"><a href="#cb2-12"></a>      name <span class="sc">==</span> <span class="st">"New York"</span> <span class="sc">~</span> <span class="st">"Manhattan"</span>,</span>
<span id="cb2-13"><a href="#cb2-13"></a>      name <span class="sc">==</span> <span class="st">"Kings"</span> <span class="sc">~</span> <span class="st">"Brooklyn"</span>,</span>
<span id="cb2-14"><a href="#cb2-14"></a>      name <span class="sc">==</span> <span class="st">"Bronx"</span> <span class="sc">~</span> <span class="st">"Bronx"</span>,</span>
<span id="cb2-15"><a href="#cb2-15"></a>      name <span class="sc">==</span> <span class="st">"Richmond"</span> <span class="sc">~</span> <span class="st">"Staten Island"</span>,</span>
<span id="cb2-16"><a href="#cb2-16"></a>      name <span class="sc">==</span> <span class="st">"Queens"</span> <span class="sc">~</span> <span class="st">"Queens"</span></span>
<span id="cb2-17"><a href="#cb2-17"></a>    )</span>
<span id="cb2-18"><a href="#cb2-18"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>neigh_counts <span class="ot">&lt;-</span> <span class="cf">function</span>(data, the_year){</span>
<span id="cb3-2"><a href="#cb3-2"></a>  dat_neigh_count <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="fu">group_by</span>(neighbourhood_group) <span class="sc">%&gt;%</span> </span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="fu">summarise</span>(</span>
<span id="cb3-5"><a href="#cb3-5"></a>    <span class="at">count =</span> <span class="fu">n</span>(),</span>
<span id="cb3-6"><a href="#cb3-6"></a>    <span class="at">av_price =</span> <span class="fu">round</span>(<span class="fu">mean</span>(price),<span class="dv">2</span>),</span>
<span id="cb3-7"><a href="#cb3-7"></a>    <span class="at">tot_price =</span> <span class="fu">sum</span>(price),</span>
<span id="cb3-8"><a href="#cb3-8"></a>    <span class="at">av_reviews =</span> <span class="fu">round</span>(<span class="fu">mean</span>(number_of_reviews),<span class="dv">1</span>),</span>
<span id="cb3-9"><a href="#cb3-9"></a>    <span class="at">tot_reviews =</span> <span class="fu">sum</span>(number_of_reviews)</span>
<span id="cb3-10"><a href="#cb3-10"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb3-11"><a href="#cb3-11"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-12"><a href="#cb3-12"></a>    <span class="at">year =</span> the_year</span>
<span id="cb3-13"><a href="#cb3-13"></a>  )</span>
<span id="cb3-14"><a href="#cb3-14"></a>  <span class="fu">return</span>(dat_neigh_count);</span>
<span id="cb3-15"><a href="#cb3-15"></a>}</span>
<span id="cb3-16"><a href="#cb3-16"></a></span>
<span id="cb3-17"><a href="#cb3-17"></a>get_geom <span class="ot">&lt;-</span> <span class="cf">function</span>(data){</span>
<span id="cb3-18"><a href="#cb3-18"></a>  dat_geom <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb3-19"><a href="#cb3-19"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-20"><a href="#cb3-20"></a>    <span class="fu">st_as_sf</span>(data, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"longitude"</span>, <span class="st">"latitude"</span>), <span class="at">crs=</span><span class="dv">4326</span>)</span>
<span id="cb3-21"><a href="#cb3-21"></a>  )</span>
<span id="cb3-22"><a href="#cb3-22"></a>  <span class="fu">return</span>(dat_geom);</span>
<span id="cb3-23"><a href="#cb3-23"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>dat_geom <span class="ot">&lt;-</span> <span class="fu">get_geom</span>(data)</span>
<span id="cb4-2"><a href="#cb4-2"></a>dat_neigh_count <span class="ot">&lt;-</span> <span class="fu">neigh_counts</span>(data, <span class="dv">2019</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a></span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a>dat2_geom <span class="ot">&lt;-</span> dat2 <span class="sc">%&gt;%</span> </span>
<span id="cb4-6"><a href="#cb4-6"></a>  <span class="fu">filter</span>(city <span class="sc">==</span> <span class="st">"New York City"</span>)</span>
<span id="cb4-7"><a href="#cb4-7"></a>dat2_geom <span class="ot">&lt;-</span> <span class="fu">get_geom</span>(dat2_geom)</span>
<span id="cb4-8"><a href="#cb4-8"></a>dat_neigh_count2 <span class="ot">&lt;-</span> <span class="fu">neigh_counts</span>(dat2, <span class="dv">2020</span>)</span>
<span id="cb4-9"><a href="#cb4-9"></a></span>
<span id="cb4-10"><a href="#cb4-10"></a></span>
<span id="cb4-11"><a href="#cb4-11"></a>dat3_geom <span class="ot">&lt;-</span> dat3 <span class="sc">%&gt;%</span> </span>
<span id="cb4-12"><a href="#cb4-12"></a>  <span class="fu">filter</span>(city <span class="sc">==</span> <span class="st">"New York City"</span>)</span>
<span id="cb4-13"><a href="#cb4-13"></a>dat3_geom <span class="ot">&lt;-</span> <span class="fu">get_geom</span>(dat3_geom)</span>
<span id="cb4-14"><a href="#cb4-14"></a>dat_neigh_count3 <span class="ot">&lt;-</span> <span class="fu">neigh_counts</span>(dat3, <span class="dv">2023</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>total_dat <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dat_neigh_count, dat_neigh_count2)</span>
<span id="cb5-2"><a href="#cb5-2"></a>total_dat <span class="ot">&lt;-</span> <span class="fu">rbind</span>(total_dat, dat_neigh_count3)</span>
<span id="cb5-3"><a href="#cb5-3"></a></span>
<span id="cb5-4"><a href="#cb5-4"></a>nyc_info <span class="ot">&lt;-</span> nyc_counties <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(neigh_pop, <span class="at">by=</span><span class="st">"Borough"</span>)</span>
<span id="cb5-5"><a href="#cb5-5"></a>nyc_info <span class="ot">&lt;-</span> nyc_info <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(total_dat, <span class="fu">join_by</span>(<span class="st">"Borough"</span><span class="sc">==</span><span class="st">"neighbourhood_group"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="graphics" class="level2">
<h2 class="anchored" data-anchor-id="graphics">Graphics</h2>
<section id="population" class="level3">
<h3 class="anchored" data-anchor-id="population">Population</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">geom_sf</span>(<span class="at">data=</span>nyc_info <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2019</span>), <span class="fu">aes</span>(<span class="at">geometry=</span>geometry, <span class="at">alpha=</span>population<span class="sc">/</span>sqmls), <span class="at">fill=</span><span class="st">"firebrick3"</span>) <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="fu">geom_label_repel</span>(<span class="at">data=</span>nyc_info <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">2019</span>), <span class="fu">aes</span>(<span class="at">geometry=</span>geometry, <span class="at">label=</span>Borough), <span class="at">stat=</span><span class="st">"sf_coordinates"</span>, <span class="at">segment.color=</span><span class="st">'transparent'</span>, <span class="at">size=</span><span class="dv">3</span>, <span class="at">nudge_x =</span> .<span class="dv">05</span>) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="fu">guides</span>(<span class="at">fill=</span><span class="st">"none"</span>, <span class="at">alpha=</span><span class="fu">guide_legend</span>(<span class="st">"Population by Sq Miles"</span>)) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="fu">theme</span>(</span>
<span id="cb6-7"><a href="#cb6-7"></a>    <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb6-8"><a href="#cb6-8"></a>    <span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb6-9"><a href="#cb6-9"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>()</span>
<span id="cb6-10"><a href="#cb6-10"></a>  ) <span class="sc">+</span></span>
<span id="cb6-11"><a href="#cb6-11"></a>  <span class="fu">labs</span>(</span>
<span id="cb6-12"><a href="#cb6-12"></a>    <span class="at">title =</span> <span class="st">"New York City Neighbourhoods and Population (from 2010 Census by SqMls)"</span></span>
<span id="cb6-13"><a href="#cb6-13"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Airbnb_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This is shows the comparisons of population across the different counties/neighbourhoods in New York City, with Manhattan having the most people per square mile and Staten Island having the least.</p>
</section>
<section id="amount-of-airbnbs" class="level3">
<h3 class="anchored" data-anchor-id="amount-of-airbnbs">Amount of Airbnbs</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="fu">geom_sf</span>(<span class="at">data=</span>nyc_info, <span class="fu">aes</span>(<span class="at">geometry=</span>geometry, <span class="at">alpha=</span>count), <span class="at">fill=</span><span class="st">"steelblue3"</span>) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>year) <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="fu">geom_label_repel</span>(<span class="at">data=</span>nyc_info, <span class="fu">aes</span>(<span class="at">geometry=</span>geometry, <span class="at">label=</span>Borough), <span class="at">stat=</span><span class="st">"sf_coordinates"</span>, <span class="at">segment.color=</span><span class="st">'transparent'</span>, <span class="at">size=</span><span class="dv">3</span>, <span class="at">nudge_x =</span> .<span class="dv">05</span>) <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="fu">guides</span>(<span class="at">alpha=</span><span class="fu">guide_legend</span>(<span class="st">"Count"</span>)) <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>  <span class="fu">theme</span>(</span>
<span id="cb7-8"><a href="#cb7-8"></a>    <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb7-9"><a href="#cb7-9"></a>    <span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb7-10"><a href="#cb7-10"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>()</span>
<span id="cb7-11"><a href="#cb7-11"></a>  ) <span class="sc">+</span></span>
<span id="cb7-12"><a href="#cb7-12"></a>  <span class="fu">labs</span>(</span>
<span id="cb7-13"><a href="#cb7-13"></a>    <span class="at">title =</span> <span class="st">"New York City Neighbourhoods and Number of Airbnbs"</span></span>
<span id="cb7-14"><a href="#cb7-14"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Airbnb_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This shows the count of Airbnbs and that they have a higher concentration in Manhattan and Brooklyn. This makes sense when looking at the previous graph, because Manhattan has the highest concentration of people so there would be a need for more buildings and apartments.</p>
</section>
<section id="average-price-of-airbnbs" class="level3">
<h3 class="anchored" data-anchor-id="average-price-of-airbnbs">Average Price of Airbnbs</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="fu">geom_sf</span>(<span class="at">data=</span>nyc_info, <span class="fu">aes</span>(<span class="at">geometry=</span>geometry, <span class="at">alpha=</span>av_price), <span class="at">fill=</span><span class="st">"seagreen"</span>) <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>year) <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="fu">geom_label_repel</span>(<span class="at">data=</span>nyc_info, <span class="fu">aes</span>(<span class="at">geometry=</span>geometry, <span class="at">label=</span>Borough), <span class="at">stat=</span><span class="st">"sf_coordinates"</span>, <span class="at">segment.color=</span><span class="st">'transparent'</span>, <span class="at">size=</span><span class="dv">3</span>, <span class="at">nudge_x =</span> .<span class="dv">05</span>) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="fu">guides</span>(<span class="at">fill=</span><span class="st">"none"</span>, <span class="at">alpha =</span> <span class="fu">guide_legend</span>(<span class="st">"Average Price"</span>)) <span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb8-7"><a href="#cb8-7"></a>  <span class="fu">theme</span>(</span>
<span id="cb8-8"><a href="#cb8-8"></a>    <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb8-9"><a href="#cb8-9"></a>    <span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb8-10"><a href="#cb8-10"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>()</span>
<span id="cb8-11"><a href="#cb8-11"></a>  ) <span class="sc">+</span></span>
<span id="cb8-12"><a href="#cb8-12"></a>  <span class="fu">labs</span>(</span>
<span id="cb8-13"><a href="#cb8-13"></a>    <span class="at">title =</span> <span class="st">"New York City Neighbourhoods and Average Price of Airbnb"</span></span>
<span id="cb8-14"><a href="#cb8-14"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Airbnb_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This shows the comparison of average prices across the different counties and shows that Staten Island has a significant rise from 2020 to 2023. Staten Island also doesn’t have a lot of airbnbs compared with the others, so there could be some outliers that raise the mean. Manhattan, along with the rest of the counties, have a more steady growth which may be due to inflation or show that there is a steady incline of popularity of airbnbs in New York City.</p>
</section>
<section id="count-of-airbnbs-layered-interactive-graph" class="level3">
<h3 class="anchored" data-anchor-id="count-of-airbnbs-layered-interactive-graph">Count of Airbnbs Layered Interactive Graph</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co">#https://posit.byui.edu/content/c86ab6a5-dedf-432f-8b46-fe24f4c0a6f7</span></span>
<span id="cb9-2"><a href="#cb9-2"></a></span>
<span id="cb9-3"><a href="#cb9-3"></a></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co"># pal &lt;- colorNumeric(palette = c("white", "orange", "red"),</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="co">#                     domain = nyc_info$count)</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="co"># </span></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co"># leaflet() %&gt;% </span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="co">#   setView(lng = -73.8, lat = 40.7, zoom = 10) %&gt;% </span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co">#   addProviderTiles(providers$Esri.NatGeoWorldMap) %&gt;%</span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co">#   addPolygons(data = st_as_sf(filter(nyc_info, year == 2019)),</span></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="co">#               group = "2019",</span></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="co">#               fillOpacity = .5,</span></span>
<span id="cb9-13"><a href="#cb9-13"></a><span class="co">#               fillColor = ~pal(count)) %&gt;% </span></span>
<span id="cb9-14"><a href="#cb9-14"></a><span class="co">#   addCircles(data=dat_geom, weight=1, opacity=.5, label = ~paste(dat_geom$name,"; Price per Day: $", dat_geom$price), group="2019") %&gt;% </span></span>
<span id="cb9-15"><a href="#cb9-15"></a><span class="co">#   addPolygons(data = st_as_sf(filter(nyc_info, year == 2020)),</span></span>
<span id="cb9-16"><a href="#cb9-16"></a><span class="co">#               group = "2020",</span></span>
<span id="cb9-17"><a href="#cb9-17"></a><span class="co">#               fillOpacity = .5,</span></span>
<span id="cb9-18"><a href="#cb9-18"></a><span class="co">#               fillColor = ~pal(count)) %&gt;%</span></span>
<span id="cb9-19"><a href="#cb9-19"></a><span class="co">#   addCircles(data=dat2_geom, weight=1, opacity=.5, label = ~paste(dat2_geom$name,"; Price per Day: $", dat2_geom$price), group="2020") %&gt;% </span></span>
<span id="cb9-20"><a href="#cb9-20"></a><span class="co">#   addPolygons(data = st_as_sf(filter(nyc_info, year == 2023)),</span></span>
<span id="cb9-21"><a href="#cb9-21"></a><span class="co">#               group = "2023",</span></span>
<span id="cb9-22"><a href="#cb9-22"></a><span class="co">#               fillOpacity = .5,</span></span>
<span id="cb9-23"><a href="#cb9-23"></a><span class="co">#               fillColor = ~pal(count)) %&gt;%  </span></span>
<span id="cb9-24"><a href="#cb9-24"></a><span class="co">#   addCircles(data=dat3_geom, weight=1, opacity=.5, label = ~paste(dat3_geom$name,"; Price per Day: $", dat3_geom$price), group="2023") %&gt;% </span></span>
<span id="cb9-25"><a href="#cb9-25"></a><span class="co">#   addLayersControl(</span></span>
<span id="cb9-26"><a href="#cb9-26"></a><span class="co">#     baseGroups = c("2019", "2020", "2023"),</span></span>
<span id="cb9-27"><a href="#cb9-27"></a><span class="co">#     options = layersControlOptions(collapsed = FALSE)) %&gt;% </span></span>
<span id="cb9-28"><a href="#cb9-28"></a><span class="co">#   addLegend(position = "topright", pal = pal, values = nyc_info$count,</span></span>
<span id="cb9-29"><a href="#cb9-29"></a><span class="co">#             title = "Counts of Air BnBs",</span></span>
<span id="cb9-30"><a href="#cb9-30"></a><span class="co">#             opacity = 1)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>I also have an interactive graph that shows the individual points for each of the years. It is filled by the count of airbnbs like the second graph. Here is the link <a href="https://posit.byui.edu/content/c86ab6a5-dedf-432f-8b46-fe24f4c0a6f7">Layered Graph</a>. The code is above for the graph if you would like to open it and inspect it.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>